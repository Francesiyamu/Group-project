<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uitgaven</title>
    <link rel="stylesheet" href="../CSS/subpaginas_projecten.css">
    <script src="https://kit.fontawesome.com/f89a7f5c8c.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body id="body">

    <!-- ------------- NAVIGATION BARS ------------- -->
    <nav class="large_screen_nav main" id="top">
        <ul>
            <li><img id="logo" src="../../assests/images/logo_transparant.png" alt="Logo"></li>
            <li><a href="../klanten/home_klanten.html" class="menu">Klanten</a></li>
            <li><a href="../leveranciers/home_leveranciers.html" class="menu">Leveranciers</a></li>
            <li><a href="../projecten/home_projecten.html" class="menu active">Projecten</a></li>
            <li><a href="../lev_Factuur/home_fact_lev.html" class="menu" id="fact_lev_menu">Facturen Leveranciers</a></li>
            <li><a href="../klant_factuur/home_klantFacturen.html" class="menu" id="fact_klant_menu">Facturen Klanten</a></li>
            <li class="gebruikers_item"><a href="../gebruikers/home_gebruikers.html" class="menu">Gebruikers</a></li>
            <li><a href="../logout" data-toggle="tooltip" data-placement="bottom" title="Log out"><i id="logout" class="fa fa-sign-out"></i></a></li>
        </ul>
    </nav>
    
    <nav class="medium_screen_nav main">
        <img id="logo" src="../../assests/images/logo_transparant.png" alt="Logo">
        <ul>
            <div class="part_nav" id="nav_upper">
                <li><a href="../klanten/home_klanten.html" class="menu">Klanten</a></li>
                <li><a href="../leveranciers/home_leveranciers.html" class="menu">Leveranciers</a></li>
                <li><a href="../projecten/home_projecten.html" class="menu active">Projecten</a></li>
            </div>
            <div class="part_nav" id="nav_lower">
                <li><a href="../lev_Factuur/home_fact_lev.html" class="menu">Facturen Leveranciers</a></li> 
                <li><a href="../klant_factuur/home_klantFacturen.html" class="menu">Facturen Klanten</a></li>
                <li class="gebruikers_item"><a href="../gebruikers/home_gebruikers.html" class="menu">Gebruikers</a></li>
            </div>
        </ul>
        <a href="../logout" data-toggle="tooltip" data-placement="bottom" title="Log out"><i id="logout" class="fa fa-sign-out"></i></a>
    </nav>
    

    <nav id="small_screen_nav" class="navbar navbar-expand-md bg-custom main">
        <div class="container-fluid">
            <img class="navbar-brand" id="logo" src="../../assests/images/logo_transparant.png" alt="Logo">
            <button class="navbar-toggler ml-auto custom-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <i id="toggle"class="fa fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarToggler">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a href="../klanten/home_klanten.html" class="menu nav-link">Klanten</a></li> 
                    <li class="nav-item"><a href="../leveranciers/home_leveranciers.html" class="menu nav-link">Leveranciers</a></li>
                    <li class="nav-item"><a href="../projecten/home_projecten.html" class="menu nav-link active">Projecten</a></li>
                    <li class="nav-item"><a href="../lev_Factuur/home_fact_lev.html" class="menu nav-link">Facturen Leveranciers</a></li>
                    <li class="nav-item"><a href="../klant_factuur/home_klantFacturen.html" class="menu nav-link">Facturen Klanten</a></li> 
                    <li class="nav-item gebruikers_item"><a href="../gebruikers/home_gebruikers.html" class="menu nav-link">Gebruikers</a></li>
                    <li id="li_logout"><a href="../logout" data-toggle="tooltip" data-placement="bottom" title="Log out"><i id="logout" class="fa fa-sign-out"></i>Log out</a></li>
                </ul>
            </div>
        </div>
    </nav>
        
 <!-- ------------- CONTENT ------------- -->

    <div id="body_without_navbar"> <!-- Attributes data-bs-toggle="collapse" data-bs-target="#navbarToggler" to close main navbar when click on screen -->
        <div class="content">
            <div id="subnav_large">
              
                <ul>
                    <li><button class="subnav_active subnav-btn">Overzicht</button></li>
                    <li><button class="subnav-btn">Uitgaven</button></li> 
                    <li><button class="subnav-btn">Inkomsten</button></li>
                  
                </ul>
            </div>

            <nav id="subnav_small" class="navbar navbar-expand-lg bg-custom">
                <div class="container-fluid">
                    <button class="navbar-toggler ml-auto custom-toggler" id="toggle_btn" type="button" data-bs-toggle="collapse" data-bs-target="#subnavbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                        <i id="toggle_subnav"class="fa fa-bars"></i>
                    </button>
                    <div class="collapse navbar-collapse" id="subnavbarToggler">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="subnav-item"><button data-bs-toggle="collapse" data-bs-target="#subnavbarToggler" class="subnav_active subnav-btn">Overzicht</button></li>
                            <li class="subnav-item"><button data-bs-toggle="collapse" data-bs-target="#subnavbarToggler" class="subnav-btn">Uitgaven</button></li> 
                            <li class="subnav-item"><button data-bs-toggle="collapse" data-bs-target="#subnavbarToggler" class="subnav-btn">Inkomsten</button></li>
                            <!-- https://getbootstrap.com/docs/5.0/components/collapse/ -->
                        </ul>
                    </div>
                </div>
            </nav>

            <div id="overzicht" class="visible container">
                <h1>Overzicht</h1>
                <div id="overzicht_no_title">
                    <div id="left_column" class="column">
                        <h2>Projectgegevens</h2>                        
                        <table id="info_table">
                            <tr>
                                <th class="cell">Naam:</th>
                                <td class="cell">{{projectnaam}}</td>
                            </tr>
                            <tr>
                                <th class="cell" id="adres_top">Adres:</th>
                                <td class="cell break" id="adres_top">{{projectgegevens.straatnaam}},<span>&shy;</span> {{projectgegevens.huisnr}}</td>
                            </tr>
                            <tr>
                                <th class="cell" id="adres_bottom"></th>
                                <td class="cell break" id="adres_bottm">{{projectgegevens.postcode}},  {{projectgegevens.gemeente}},<span>&shy;</span> {{projectgegevens.land}}</td>
                            </tr>
                            <tr>
                                <th class="cell break">Klant&shy;naam:</th>
                                <td class="cell"><a href="../klanten/details_aanpassen_klant.html?id={{projectgegevens.klantnr}}">{{projectgegevens.voornaam}} {{projectgegevens.achternaam}}</a></td>
                            </tr>
                        </table>
                    </div>

                    <div id="right_column" class="column">
                        <h2>KPI's</h2>
                        <table id="kpi_table">
                            <tr>
                                <th></th>
                                <th class="waarde">Bedrag (&euro;)</th>
                            </tr>
                            <tr>
                                <th>Inkomsten</th>
                                <td class="waarde">{{totaalKlant}}</td>
                            </tr>
                            <tr>
                                <th>Uitgaven</th>
                                <td class="waarde">{{totaalLev}}</td>
                            </tr>
                            <tr>
                                <th id="total"><b>Totaal</b></th>
                                <td class="waarde"><b>{{marge}}</b></td>
                            </tr>
                        </table>
                    </div>                
                </div>
            </div>
            
            <div id="uitgaven" class="hidden container">
                <h1>Uitgaven</h1>
                <div id="table" class="table-section" data-url="/data">
                    <table class="table-section__table" data-filter-control="true" data-show-search-clear-button="true">
                        <thead>
                            <tr>
                                <th>Factuurnummer</th>
                                <th>Factuurdatum</th>
                                <th>Leverancier</th>
                                <th>Bedrag (Excl. BTW)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each levFact}}
                            <tr onclick="window.location='../lev_Factuur/fact-lev-aanpassen.html?var={{factuurid}}'">
                                <td>{{factuurnr}}</td>
                                <td>{{factuurDatum}}</td>
                                <td>{{naam}}</td>
                                <td>{{bedragNoBTW}}</td>
                            </tr>
                            {{/each}}
                            <tr>
                                <td colspan="3"><strong>Totaal</strong></td>
                                <td>{{totaalLev}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>



            <div id="inkomsten" class="hidden container">
                <h1>Inkomsten</h1>
                <div id="table" class="table-section" data-url="/data">
                    <table class="table-section__table" data-filter-control="true" data-show-search-clear-button="true">
                        <thead>
                            <tr>
                                <th>Factuurnummer</th>
                                <th>Factuurdatum</th>
                                <th>Leverancier</th>
                                <th>Bedrag (Excl. BTW)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each klantFact}}
                            <tr onclick="window.location='../klant_factuur/details_aanpassen_klantFactuur.html?var={{factuurid}}'">
                                <td>{{factuurnr}}</td>
                                <td>{{factuurDatum}}</td>
                                <td>{{voornaam}}, {{achternaam}}</td>
                                <td>{{bedragNoBTW}}</td>
                            </tr>
                            {{/each}}
                            <tr>
                                <td colspan="3"><strong>Totaal</strong></td>
                                <td>{{totaalKlant}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            {{#with projectnr}}
            <div class="btns">
                <a href="home_projecten.html" id="btn_back" class="btn_bottom">Back</a>
                <a href="details_aanpassen_project.html?id={{this}}" id="btn_details" class="btn_bottom">Details project</a>
            </div>
            {{/with}}
        </div>
    </div>

    <script src="../JS/subpaginas_projecten.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> 
</body>
</html>